<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Dynamic Tree Example</title>
<style>
  ul { list-style-type: none; }
  li { cursor: pointer; margin: 4px 0; }
  .nested { display: none; }
  .active { display: block; }
</style>
</head>
<body>

<h2>ğŸ“‚ ë‚´ ë¬¸ì„œ íƒìƒ‰ê¸°</h2>
<ul id="tree-root"></ul>

<script>
  // JSON íŒŒì¼ ë¶ˆëŸ¬ì˜¤ê¸°
  fetch('structure.json')
    .then(response => response.json())
    .then(data => createTree(document.getElementById('tree-root'), data));

  // íŠ¸ë¦¬ ìƒì„± í•¨ìˆ˜
  function createTree(parent, obj) {
    Object.entries(obj).forEach(([key, value]) => {
      const li = document.createElement('li');
      li.textContent = key;
      parent.appendChild(li);

      if (value && typeof value === 'object') {
        const ul = document.createElement('ul');
        ul.classList.add('nested');
        li.appendChild(ul);
        createTree(ul, value);

        li.addEventListener('click', (e) => {
          e.stopPropagation();
          ul.classList.toggle('active');
        });
      } else if (value === null) {
        li.style.cursor = 'default';
        li.addEventListener('click', () => {
          window.location.href = key; // HTML íŒŒì¼ë¡œ ì´ë™
        });
      }
    });
  }
</script>

</body>
</html>
